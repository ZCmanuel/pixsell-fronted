<!-- Imagen de registro exitoso -->
<div
  class="flex flex-col justify-center gap-6 bg-[#D1D0D0] p-10 shadow-xl rounded-md"
>
  <!-- Logo -->
  <div class="flex justify-center p-4">
    <img src="img/logo.png" class="w-[80%]" routerLink="" />
  </div>

  <!-- Título -->
  <div class="font-semibold text-center text-2xl underline underline-offset-10">
    <h1>Registrarse</h1>
  </div>

   <app-message-success [message]="successMessage" />
   <app-message-error [message]="errorMessage" />

  <!-- Formulario -->
  <form
    class="w-full flex flex-col items-center gap-4 py-2"
    (ngSubmit)="onSubmit()"
    [formGroup]="registerForm"
  >
    <!-- Nombre -->
    <div class="w-[80%]">
      <input
        formControlName="nombre"
        type="text"
        placeholder="Nombre"
        class="w-full px-4 py-2 rounded-md bg-white shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <div
        *ngIf="
          registerForm.get('nombre')?.touched &&
          registerForm.get('nombre')?.invalid
        "
        class="text-red-500 text-sm mt-1"
      >
        <div *ngIf="registerForm.get('nombre')?.errors?.['required']">
          El nombre es obligatorio.
        </div>
        <div *ngIf="registerForm.get('nombre')?.errors?.['minlength']">
          Mínimo 3 caracteres.
        </div>
      </div>
    </div>

    <!-- Email -->
    <div class="w-[80%]">
      <input
        formControlName="email"
        type="email"
        placeholder="Correo electrónico"
        class="w-full px-4 py-2 rounded-md bg-white shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <div
        *ngIf="
          registerForm.get('email')?.touched &&
          registerForm.get('email')?.invalid
        "
        class="text-red-500 text-sm mt-1"
      >
        <div *ngIf="registerForm.get('email')?.errors?.['required']">
          El correo es obligatorio.
        </div>
        <div *ngIf="registerForm.get('email')?.errors?.['email']">
          Formato de correo inválido.
        </div>
      </div>
    </div>

    <!-- Contraseña -->
    <div class="w-[80%]">
      <input
        formControlName="contraseña"
        type="password"
        placeholder="Contraseña"
        class="w-full px-4 py-2 rounded-md bg-white shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <div
        *ngIf="
          registerForm.get('contraseña')?.touched &&
          registerForm.get('contraseña')?.invalid
        "
        class="text-red-500 text-sm mt-1"
      >
        <div *ngIf="registerForm.get('contraseña')?.errors?.['required']">
          La contraseña es obligatoria.
        </div>
        <div *ngIf="registerForm.get('contraseña')?.errors?.['minlength']">
          Mínimo 6 caracteres.
        </div>
      </div>
    </div>

    <!-- Confirmar contraseña -->
    <div class="w-[80%]">
      <input
        formControlName="contraseña_confirmation"
        type="password"
        placeholder="Confirmar contraseña"
        class="w-full px-4 py-2 rounded-md bg-white shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <div
        *ngIf="
          registerForm.get('contraseña_confirmation')?.touched &&
          registerForm.get('contraseña_confirmation')?.invalid
        "
        class="text-red-500 text-sm mt-1"
      >
        <div
          *ngIf="registerForm.get('contraseña_confirmation')?.errors?.['required']"
        >
          La confirmación es obligatoria.
        </div>
        <div
          *ngIf="registerForm.get('contraseña_confirmation')?.errors?.['minlength']"
        >
          Mínimo 6 caracteres.
        </div>
      </div>

      <!-- Validación personalizada: contraseñas no coinciden -->
      <div
        *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.get('contraseña_confirmation')?.touched"
        class="text-red-500 text-sm mt-1"
      >
        Las contraseñas no coinciden.
      </div>
    </div>

    <!-- Botón -->
    <div class="w-[80%] flex justify-center py-2">
      <button
        class="bg-[#2C3E50] text-white font-bold py-2 px-4 rounded hover:bg-[#405a74] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
      >
        Registrarse
      </button>
    </div>

    <!-- Enlace al login -->
    <div class="text-center text-sm mt-2">
      ¿Ya tienes cuenta?
      <a
        routerLink="/auth/login"
        class="text-blue-600 hover:underline hover:text-blue-800 transition duration-200"
      >
        Inicia sesión
      </a>
    </div>

  </form>
</div>
