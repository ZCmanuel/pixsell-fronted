<div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md space-y-8">
  <!-- Título -->
  <h2
    class="text-2xl font-bold text-center text-gray-800 underline underline-offset-8"
  >
    Configuración de la cuenta
  </h2>

  <!-- Mensaje de error -->
  @if (error_message) {
  <div
    class="flex items-center gap-3 p-4 bg-red-100 border border-red-300 rounded-md text-red-700"
  >
    <img src="icons/error.png" alt="Error" class="w-6 h-6" />
    <p class="text-sm font-medium">{{ error_message }}</p>
  </div>

  } @if(success_message) {
  <div
    class="flex items-center justify-center gap-3 bg-green-100 border border-green-300 text-green-800 font-medium my-4 p-4 rounded-lg shadow-md transition duration-300 ease-in-out animate-fade-in"
  >
    <!-- Icono animado -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="28"
      height="28"
      viewBox="0 0 24 24"
    >
      <mask id="lineMdCheckAll0">
        <g
          fill="none"
          stroke="#fff"
          stroke-dasharray="24"
          stroke-dashoffset="24"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
        >
          <path d="M2 13.5l4 4l10.75 -10.75">
            <animate
              fill="freeze"
              attributeName="stroke-dashoffset"
              dur="0.4s"
              values="24;0"
            />
          </path>
          <path stroke="#000" stroke-width="6" d="M7.5 13.5l4 4l10.75 -10.75">
            <animate
              fill="freeze"
              attributeName="stroke-dashoffset"
              begin="0.4s"
              dur="0.4s"
              values="24;0"
            />
          </path>
          <path d="M7.5 13.5l4 4l10.75 -10.75">
            <animate
              fill="freeze"
              attributeName="stroke-dashoffset"
              begin="0.4s"
              dur="0.4s"
              values="24;0"
            />
          </path>
        </g>
      </mask>
      <rect
        width="24"
        height="24"
        fill="#3fe160"
        mask="url(#lineMdCheckAll0)"
      />
    </svg>

    <!-- Mensaje -->
    <span>{{ success_message }}</span>
  </div>
  }

  <!-- Formulario para actualizar el nombre -->
  <form
    [formGroup]="formName"
    (ngSubmit)="updateName()"
    class="space-y-4 bg-gray-50 p-6 rounded-md border border-gray-200 shadow-sm"
  >
    <h3 class="text-lg font-semibold text-gray-700">Actualizar nombre</h3>
    <div class="flex flex-col gap-4 items-end">
      <input
        id="nombre"
        formControlName="nombre"
        type="text"
        placeholder="Nuevo nombre"
        class="w-full px-4 py-2 rounded-md bg-white shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <button
        class="bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700 transition"
      >
        Guardar cambios
      </button>
    </div>
  </form>

  <!-- Formulario para actualizar la contraseña -->
  <form
    [formGroup]="formPassword"
    (ngSubmit)="updatePassword()"
    class="space-y-4 bg-gray-50 p-6 rounded-md border border-gray-200 shadow-sm"
  >
    <h3 class="text-lg font-semibold text-gray-700">Actualizar contraseña</h3>
    <div class="flex flex-col gap-4 items-end">
      <input
        id="contraseña_actual"
        formControlName="contraseña_actual"
        type="password"
        placeholder="Contraseña actual"
        class="w-full px-4 py-2 rounded-md bg-white shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />

      <input
        id="contraseña"
        formControlName="contraseña"
        type="password"
        placeholder="Nueva contraseña"
        class="w-full px-4 py-2 rounded-md bg-white shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />

      <input
        id="contraseña_confirmation"
        formControlName="contraseña_confirmation"
        type="password"
        placeholder="Confirmar nueva contraseña"
        class="w-full px-4 py-2 rounded-md bg-white shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />

      @if (formPassword.errors?.['passwordMismatch']) {
      <div class="bg-red-100 border border-red-300 rounded-md text-red-400 p-2">
        Las contraseñas no coinciden.
      </div>
      }
      <button
        class="bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700 transition"
      >
        Guardar cambios
      </button>
    </div>
  </form>
</div>
